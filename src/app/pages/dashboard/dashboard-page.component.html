<div class="dashboard">
  <header class="main-header">
    <div class="welcome-block">
      <div class="welcome-badge">Dashboard</div>
      <h1 class="welcome-title">Visão geral dos seus links</h1>
      <p class="welcome-subtitle">
        Acompanhe links, coleções e desempenho de cliques em um só lugar.
      </p>
    </div>
  </header>

  <div *ngIf="loading" class="loading">Carregando dados...</div>

  <section class="dashboard-metrics" *ngIf="!loading && metrics">
    <div class="metric-card">
      <div class="metric-label">Links cadastrados</div>
      <div class="metric-value">{{ metrics.linksTotal }}</div>
    </div>
    <div class="metric-card">
      <div class="metric-label">Coleções</div>
      <div class="metric-value">{{ metrics.collectionsTotal }}</div>
    </div>
    <div class="metric-card">
      <div class="metric-label">Visualizações</div>
      <div class="metric-value">{{ metrics.totalViews }}</div>
    </div>
    <div class="metric-card">
      <div class="metric-label">Compartilhamentos</div>
      <div class="metric-value">{{ metrics.totalShares }}</div>
    </div>
  </section>

  <section class="dashboard-grid" *ngIf="!loading">
    <div class="dashboard-panel">
      <div class="panel-header">
        <h2>Links recentes</h2>
        <a routerLink="/links">Ver todos</a>
      </div>
      <ul class="item-list" *ngIf="recentLinks?.length; else noLinks">
        <li *ngFor="let link of recentLinks">
          <div class="item-main">
            <div class="item-title">{{ link.title || link.url }}</div>
            <div class="item-sub">
              {{ link.short_url || link.url }}
            </div>
          </div>
        </li>
      </ul>
      <ng-template #noLinks>
        <p class="empty-state">Você ainda não cadastrou nenhum link.</p>
      </ng-template>
    </div>

    <div class="dashboard-panel">
      <div class="panel-header">
        <h2>Coleções recentes</h2>
        <a routerLink="/colecoes">Ver todas</a>
      </div>
      <ul class="item-list" *ngIf="recentCollections?.length; else noCollections">
        <li *ngFor="let c of recentCollections">
          <div class="item-main">
            <div class="item-title">{{ c.name }}</div>
            <div class="item-sub">{{ c.description || 'Sem descrição' }}</div>
          </div>
        </li>
      </ul>
      <ng-template #noCollections>
        <p class="empty-state">Você ainda não criou nenhuma coleção.</p>
      </ng-template>
    </div>
  </section>
</div>
